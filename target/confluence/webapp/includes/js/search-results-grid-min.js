(function(){var a=function(b){return{id:b.id,title:b.title,url:AJS.REST.findLink(b.link),type:b.type,spaceName:b.space?b.space.title:"",spaceKey:b.space?b.space.key:"",friendlyDate:b.lastModifiedDate?b.lastModifiedDate.friendly:"",date:b.lastModifiedDate?b.lastModifiedDate.date:""}};jQuery.fn.searchResultsGrid=function(b,f,n,d){var g=jQuery,h=this;var j=f.results;if(!j||!j.length){var p=AJS.format(d.noSearchResults,AJS.escapeEntities(b));h.html("<div class='no-results'>"+p+"</div>");return}h.html(AJS.getTemplate("searchResultsGrid").toString());if(!f.skipResultCount){var m=f.startIndex+1,k=f.startIndex+j.length,l=AJS.format(d.resultsCount,m,k,f.total,AJS.escapeEntities(b));h.prepend(AJS.renderTemplate("searchResultsGridCount",AJS.html(l)))}for(var e=0;e<j.length;e++){var o=j[e];o=f.convertFromRest?a(o):o;var c=g(AJS.renderTemplate("searchResultsGridRow",[o.title,o.url,o.type,o.spaceName,o.spaceKey,o.friendlyDate,o.date]));if(o.type=="attachment"&&o.id){c.attr("data-attachment-id",o.id)}c.selectableEffects(h,n.select,j[e]);h.find("table").append(c)}g(".search-result:first",h).click()}})();