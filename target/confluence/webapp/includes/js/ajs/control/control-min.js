AJS.jiraTrigger=function(a,b){a=new jQuery.Event(a);jQuery(b||window.top.document).trigger(a);return !a.isDefaultPrevented()};AJS.Control=Class.extend({INVALID:"INVALID",_throwReadOnlyError:function(a){new Error(this.CLASS_SIGNATURE+": Sorry ["+a+"] is a read-only property")},_assignEvents:function(c,a){this._unassignEvents(c,a);if(typeof a==="string"){for(var b in this._events[c]){AJS.$(document).delegate(a,b,this._getDispatcher(c,b))}}else{a=jQuery(a);for(b in this._events[c]){a.bind(b,this._getDispatcher(c,b));AJS.debug("AJS.Control bound eventType '"+b+"' for group '"+c+"' on target '"+(a[0].type||a[0])+"'")}}},_unassignEvents:function(h,a){if(typeof a==="string"){for(var e in this._events[h]){AJS.$(document).undelegate(a,e,this._getDispatcher(h,e))}}else{a=jQuery(a);try{for(e in this._events[h]){a.unbind(e,this._getDispatcher(h,e))}}catch(g){var d=a.data("events");if(d){for(e in d){if(e in this._events[h]){var f=this._getDispatcher(h,e);var b=d[e];for(var c=0;c<b.length;c++){if(b[c]===f){b.splice(c,1);break}}AJS.debug("AJS.Control unbound eventType '"+e+"' for group '"+h+"' on target '"+(a[0].type||a[0])+"'")}}}}}},_getDispatcher:function(e,b){var d=e+"/"+b;if(!this._dispatchers){this._dispatchers={}}if(!this._dispatchers[d]){var c=this._events[e][b];var a=this;this._dispatchers[d]=function(f){AJS.debug("AJS.Control dispatching eventType '"+b+"' for group '"+e+"' on instance '"+a.type+"'");return c.call(a,f,AJS.$(this))}}return this._dispatchers[d]},_isValidInput:function(){return true},_handleKeyEvent:function(f){var b=this;if(b._isValidInput(f)){var c=AJS.Keyboard.SpecialKey,a=AJS.Keyboard.shortcutEntered(f);if(a){if(b.keys[a]){b.keys[a].call(b,f);return}else{if((a===c.BACKSPACE||a===c.DELETE)&&b.keys.onEdit){b.keys.onEdit.call(b,f);return}}}var d=AJS.Keyboard.characterEntered(f);if(d&&b.keys.onEdit){b.keys.onEdit.call(b,f,d)}}},getCustomEventName:function(a){return(this.CLASS_SIGNATURE||"")+"_"+a},_getCustomEventArgs:function(){return[this]},trigger:function(a){return AJS.jiraTrigger(a,this)},_supportsBoxShadow:function(){var a=document.body.style;return a.WebkitBoxShadow!==undefined||a.MozBoxShadow!==undefined||a.boxShadow!==undefined},_setOptions:function(a){var b,c;a=a||{};if(a instanceof AJS.$||typeof a==="string"||(typeof a==="object"&&a.nodeName)){a={element:a}}b=AJS.$(a.element);c=b.getOptionsFromAttributes();this.options=AJS.$.extend(true,this._getDefaultOptions(a),c,a);if(b.length===0){return this.INVALID}return undefined},getCaret:function(a){var c=a.selectionStart;if(c>=0){return(a.selectionEnd>c)?-1:c}if(document.selection){var d=document.selection.createRange();if(d.text.length===0){var b=d.duplicate();b.moveToElementText(a);b.setEndPoint("EndToStart",d);return b.text.length}}return -1},_render:function(){var c,b=arguments[0],a=[];for(c=1;c<arguments.length;c++){a.push(arguments[c])}return this._renders[b].apply(this,a)}});